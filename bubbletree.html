

Explore
Gist
Blog
Help
cityofsendai
 Watch
 Star  1  Fork  9
PUBLIC orezeni / orezeni.github.com

Code
Network
Pull Requests 0
Issues 0
Wiki
Graphs
Tags
 branch: master
 Files Commits Branches 1
orezeni.github.com / bubbletree.html 
  hagino3000 8 months ago Fixed #7 横浜データでのBubble Treeの実装
3 contributors      
 file 75 lines (67 sloc) 1.853 kb EditRawBlameHistory
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
---
layout: default
title: Country Regional Analysis
---

<div class="row">
  <script type="text/javascript">
  yepnope.errorTimeout = 1000;
  yepnope({ 
  load: [
    '/js/libs/jquery.qtip.min.js',
    '/js/libs/jquery.history.js',
    '/js/libs/raphael-min.js',
    '/js/libs/vis4.js',
    '/js/libs/base64.js',
    '/js/libs/Tween.js',
    '/js/bubbletree.js',
    '/css/bubbletree.css',
    '/css/cra-map.css',
    '/js/aggregator.js',
    '/js/bubbletree.cofog.js'
  ],
  complete: function() {

		$(function() {
			var $tooltip = $('<div class="tooltip">Tooltip</div>');
			$('.bubbletree').append($tooltip);
			$tooltip.hide();

			var dataLoaded = function(data) {
				window.bubbleTree = new BubbleTree({
					data: data,
					container: '#bubbletree',
					bubbleType: 'icon',
					bubbleStyles: {
							'cofog-1':  BubbleTree.Styles.Cofog1,
							'cofog-2':  BubbleTree.Styles.Cofog2,
							'cofog-3':  BubbleTree.Styles.Cofog3
					},
					clearColors: true, // remove all colors coming from OpenSpending API
					rootPath: '/',
						tooltip: {
							qtip: true,
							delay: 800,
							content: function(node) {
								return [node.label, '<div class="desc">'+(node.description ? node.description : 'No description given')+'</div><div class="amount">\u00A5 '+node.famount+'</div>'];
							}
						}
				});
			};

			// call openspending api for data
			new OpenSpending.Aggregator({
				//apiUrl: 'http://openspending.org/api',
        //Use static file instead of api
				localApiCache: 'aggregate.json',
				dataset: 'ukgov-finances-cra',
				rootNodeLabel: 'Total',
				drilldowns: ['cofog1', 'cofog2'],
				cuts: ['year:2008'],
				breakdown: 'region',
				callback: dataLoaded
			});
		});
  }
  });

	</script>

  <div class="bubbletree-wrapper">
    <div id="bubbletree" class="bubbletree"></div>
  </div>
</div>



GitHub
About us
Blog
Contact & support
GitHub Enterprise
Site status
Applications
GitHub for Mac
GitHub for Windows
GitHub for Eclipse
GitHub mobile apps
Services
Gauges: Web analytics
Speaker Deck: Presentations
Gist: Code snippets
Job board
Documentation
GitHub Help
Developer API
GitHub Flavored Markdown
GitHub Pages
More
Training
Students & teachers
The Shop
Plans & pricing
The Octodex
c 2013 GitHub, Inc. All rights reserved.
Terms of Service Privacy Security
 